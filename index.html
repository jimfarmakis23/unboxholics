<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube RSS Feed</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <style>
        /* Ρύθμιση CSS Grid για τη διάταξη των βίντεο */
        #video-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr); /* 4 στήλες */
            gap: 20px; /* Απόσταση μεταξύ των στοιχείων */
            margin: 20px;
        }

        /* Ειδική ρύθμιση για την τελευταία σειρά (2 στοιχεία) */
        #video-container:nth-child(3) {
            grid-template-columns: repeat(2, 1fr); /* 2 στήλες για την τελευταία σειρά */
        }

        iframe {
            width: 100%;
            height: 200px;
        }
    </style>
</head>
<body>
    <h1>YouTube Channel Videos</h1>
    <div id="video-container"></div>

    <script>
        // Χρήση CORS-anywhere για παρακάμψη του CORS
        var proxyUrl = 'https://cors-anywhere.herokuapp.com/'; // Proxy URL του CORS-anywhere
        var feedUrl = "https://www.youtube.com/feeds/videos.xml?channel_id=UCsTcErHg8oDvUnTzoqsYeNw";  // Feed URL

        // Φόρτωμα του RSS feed μέσω AJAX με χρήση του proxy server
        $.ajax({
            url: proxyUrl + feedUrl,  // Σύνδεση με το proxy
            type: "GET",
            dataType: "xml",
            success: function(data) {
                var count = 0;
                var maxVideos = 5;  // Θέλουμε να δείξουμε μόνο 5 βίντεο
                $(data).find("entry").each(function() {
                    var title = $(this).find("title").text();
                    var link = $(this).find("link").attr("href");
                    
                    // Φιλτράρισμα για να αγνοήσουμε τα YouTube Shorts
                    if (title.toLowerCase().includes("shorts") || link.toLowerCase().includes("/shorts/")) {
                        return; // Αγνοούμε αυτό το βίντεο
                    }

                    var videoId = link.split('=')[1]; // Ανάγνωση του video ID από τον σύνδεσμο

                    // Δημιουργία iframe για κάθε βίντεο
                    var iframe = '<div><iframe src="https://www.youtube.com/embed/' + videoId + '" frameborder="0" allowfullscreen></iframe><p>' + title + '</p></div>';

                    // Προσθήκη στο video-container
                    $('#video-container').append(iframe);
                    count++;

                    // Σταματάμε όταν έχουμε 5 βίντεο
                    if (count >= maxVideos) return false; // Διακόπτουμε όταν έχουμε 5 βίντεο
                });
            },
            error: function() {
                alert("Δεν ήταν δυνατή η φόρτωση του RSS feed.");
            }
        });
    </script>
</body>
</html>
